<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Tue Jan 20 15:13:49 CST 2009 -->
<TITLE>
BaseSearchProcessor
</TITLE>

<META NAME="keywords" CONTENT="com.trg.dao.BaseSearchProcessor class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="BaseSearchProcessor";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BaseSearchProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/trg/dao/BaseDAODispatcher.html" title="class in com.trg.dao"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/trg/dao/BaseSearchProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BaseSearchProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.trg.dao</FONT>
<BR>
Class BaseSearchProcessor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.trg.dao.BaseSearchProcessor</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../com/trg/dao/hibernate/HibernateSearchProcessor.html" title="class in com.trg.dao.hibernate">HibernateSearchProcessor</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>BaseSearchProcessor</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class provides two methods for generating query language to fulfill a
 <code>ISearch</code>.
 <ol>
 <li><code>generateQL()</code> - is used for getting the actual search
 results.</li>
 <li><code>generateRowCountQL()</code> - is used for getting just the number
 of results.</li>
 </ol>
 Both methods return a query language sting and a list of values for filling
 named parameters. For example the following query and parameter list might be
 returned:
 
 <pre>
 select _it from com.example.Cat _it
   where _it.age &gt; :p1 and _it.name != :p2
   
 parameter list: [3, 'Mittens']
 </pre>
 
 This is an abstract class. A subclass must be used to implement individual
 query languages. Currently only HQL query language is supported (
 <code>com.trg.dao.hibernate.HibernateSearchToQLProcessor</code>). The that
 implementation could be used for EQL query language as well with no or minor
 modifications.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.regex.Pattern</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#INJECTION_CHECK">INJECTION_CHECK</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Regex pattern for a valid property name/path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/trg/dao/MetaDataUtil.html" title="interface in com.trg.dao">MetaDataUtil</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#metaDataUtil">metaDataUtil</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#qlType">qlType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#QLTYPE_EQL">QLTYPE_EQL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#QLTYPE_HQL">QLTYPE_HQL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#ROOT_PATH">ROOT_PATH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#rootAlias">rootAlias</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#BaseSearchProcessor(int, com.trg.dao.MetaDataUtil)">BaseSearchProcessor</A></B>(int&nbsp;qlType,
                    <A HREF="../../../com/trg/dao/MetaDataUtil.html" title="interface in com.trg.dao">MetaDataUtil</A>&nbsp;metaDataUtil)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#filterToString(java.lang.Class, com.trg.dao.search.Filter, java.util.List, java.util.Map)">filterToString</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
               <A HREF="../../../com/trg/dao/search/Filter.html" title="class in com.trg.dao.search">Filter</A>&nbsp;filter,
               java.util.List&lt;java.lang.Object&gt;&nbsp;params,
               java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recursively generate the QL fragment for a given search filter option.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateFromClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map, boolean)">generateFromClause</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                   <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                   java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
                   boolean&nbsp;doEagerFetching)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal method for generating from clause.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateOrderByClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map)">generateOrderByClause</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                      <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                      java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal method for generating order by clause.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateQL(java.lang.Class, com.trg.dao.search.ISearch, java.util.List)">generateQL</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
           <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
           java.util.List&lt;java.lang.Object&gt;&nbsp;paramList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate the QL string for a given search.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateRowCountQL(java.lang.Class, com.trg.dao.search.ISearch, java.util.List)">generateRowCountQL</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                   <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                   java.util.List&lt;java.lang.Object&gt;&nbsp;paramList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate the QL string that will query the total number of results from a
 given search (paging is ignored).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateSelectClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map)">generateSelectClause</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                     <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                     java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal method for generating the select clause based on the fields of
 the given search.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#generateWhereClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.List, java.util.Map)">generateWhereClause</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                    <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                    java.util.List&lt;java.lang.Object&gt;&nbsp;params,
                    java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal method for generating where clause for given search.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#getAlias(java.lang.Class, java.util.Map, java.lang.String, boolean)">getAlias</A></B>(java.lang.Class&lt;?&gt;&nbsp;rootClass,
         java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
         java.lang.String&nbsp;path,
         boolean&nbsp;setFetch)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a full path to an entity (ex.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#getPath(java.lang.Class, java.util.Map, java.lang.String)">getPath</A></B>(java.lang.Class&lt;?&gt;&nbsp;rootClass,
        java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
        java.lang.String&nbsp;property)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a full path to a property (ex.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#param(java.util.List, java.lang.Object)">param</A></B>(java.util.List&lt;java.lang.Object&gt;&nbsp;params,
      java.lang.Object&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add value to paramList and return the "X" part of the named parameter
 string ":pX".</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#securityCheck(java.lang.Class, com.trg.dao.search.ISearch)">securityCheck</A></B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
              <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks to make sure the search will not violate security.<br/><br/>
 
 Current checks:
 
 INJECTION - We check each property sepcified in the search to make
 sure it only contains valid Java identifier characters
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#securityCheckFilter(com.trg.dao.search.Filter)">securityCheckFilter</A></B>(<A HREF="../../../com/trg/dao/search/Filter.html" title="class in com.trg.dao.search">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used by <code>securityCheck()</code> to recursively check filters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#securityCheckProperty(java.lang.String)">securityCheckProperty</A></B>(java.lang.String&nbsp;property)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used by <code>securityCheck()</code> to check a property string for
 injection attack.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/trg/dao/BaseSearchProcessor.html#setRootAlias(java.lang.String)">setRootAlias</A></B>(java.lang.String&nbsp;alias)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the string used to represent the root entity of the search within
 the query.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="QLTYPE_HQL"><!-- --></A><H3>
QLTYPE_HQL</H3>
<PRE>
protected static int <B>QLTYPE_HQL</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="QLTYPE_EQL"><!-- --></A><H3>
QLTYPE_EQL</H3>
<PRE>
protected static int <B>QLTYPE_EQL</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="qlType"><!-- --></A><H3>
qlType</H3>
<PRE>
protected int <B>qlType</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="metaDataUtil"><!-- --></A><H3>
metaDataUtil</H3>
<PRE>
protected <A HREF="../../../com/trg/dao/MetaDataUtil.html" title="interface in com.trg.dao">MetaDataUtil</A> <B>metaDataUtil</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="rootAlias"><!-- --></A><H3>
rootAlias</H3>
<PRE>
protected java.lang.String <B>rootAlias</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ROOT_PATH"><!-- --></A><H3>
ROOT_PATH</H3>
<PRE>
protected static final java.lang.String <B>ROOT_PATH</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#com.trg.dao.BaseSearchProcessor.ROOT_PATH">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="INJECTION_CHECK"><!-- --></A><H3>
INJECTION_CHECK</H3>
<PRE>
protected java.util.regex.Pattern <B>INJECTION_CHECK</B></PRE>
<DL>
<DD>Regex pattern for a valid property name/path.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BaseSearchProcessor(int, com.trg.dao.MetaDataUtil)"><!-- --></A><H3>
BaseSearchProcessor</H3>
<PRE>
protected <B>BaseSearchProcessor</B>(int&nbsp;qlType,
                              <A HREF="../../../com/trg/dao/MetaDataUtil.html" title="interface in com.trg.dao">MetaDataUtil</A>&nbsp;metaDataUtil)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setRootAlias(java.lang.String)"><!-- --></A><H3>
setRootAlias</H3>
<PRE>
public void <B>setRootAlias</B>(java.lang.String&nbsp;alias)</PRE>
<DL>
<DD>This is the string used to represent the root entity of the search within
 the query. The default value is <code>"_it"</code>. It may be necessary
 to use a different alias if there are entities in the data model with the
 name or property "_it".
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateQL(java.lang.Class, com.trg.dao.search.ISearch, java.util.List)"><!-- --></A><H3>
generateQL</H3>
<PRE>
public java.lang.String <B>generateQL</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                   <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                   java.util.List&lt;java.lang.Object&gt;&nbsp;paramList)</PRE>
<DL>
<DD>Generate the QL string for a given search. Fill paramList with the values
 to be used for the query. All parameters within the query string are
 specified as named parameters ":pX", where X is the index of the
 parameter value in paramList.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateRowCountQL(java.lang.Class, com.trg.dao.search.ISearch, java.util.List)"><!-- --></A><H3>
generateRowCountQL</H3>
<PRE>
public java.lang.String <B>generateRowCountQL</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                           <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                           java.util.List&lt;java.lang.Object&gt;&nbsp;paramList)</PRE>
<DL>
<DD>Generate the QL string that will query the total number of results from a
 given search (paging is ignored). Fill paramList with the values to be
 used for the query. All parameters within the query string are specified
 as named parameters ":pX", where X is the index of the parameter value in
 paramList.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateSelectClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map)"><!-- --></A><H3>
generateSelectClause</H3>
<PRE>
protected java.lang.String <B>generateSelectClause</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                                <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                                java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</PRE>
<DL>
<DD>Internal method for generating the select clause based on the fields of
 the given search.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateFromClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map, boolean)"><!-- --></A><H3>
generateFromClause</H3>
<PRE>
protected java.lang.String <B>generateFromClause</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                              <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                              java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
                                              boolean&nbsp;doEagerFetching)</PRE>
<DL>
<DD>Internal method for generating from clause. This method should be called
 after generating other clauses because it relies on the aliases they
 create. This method takes every path that is called for in the other
 clauses and makes it available as an alias using left joins. It also adds
 join fetching for properties specified by <code>fetches</code>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateOrderByClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.Map)"><!-- --></A><H3>
generateOrderByClause</H3>
<PRE>
protected java.lang.String <B>generateOrderByClause</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                                 <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                                 java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</PRE>
<DL>
<DD>Internal method for generating order by clause. Uses sort options from
 search.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateWhereClause(java.lang.Class, com.trg.dao.search.ISearch, java.util.List, java.util.Map)"><!-- --></A><H3>
generateWhereClause</H3>
<PRE>
protected java.lang.String <B>generateWhereClause</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                               <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search,
                                               java.util.List&lt;java.lang.Object&gt;&nbsp;params,
                                               java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</PRE>
<DL>
<DD>Internal method for generating where clause for given search. Uses filter
 options from search.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="param(java.util.List, java.lang.Object)"><!-- --></A><H3>
param</H3>
<PRE>
protected java.lang.String <B>param</B>(java.util.List&lt;java.lang.Object&gt;&nbsp;params,
                                 java.lang.Object&nbsp;value)</PRE>
<DL>
<DD>Add value to paramList and return the "X" part of the named parameter
 string ":pX".
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="filterToString(java.lang.Class, com.trg.dao.search.Filter, java.util.List, java.util.Map)"><!-- --></A><H3>
filterToString</H3>
<PRE>
protected java.lang.String <B>filterToString</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                                          <A HREF="../../../com/trg/dao/search/Filter.html" title="class in com.trg.dao.search">Filter</A>&nbsp;filter,
                                          java.util.List&lt;java.lang.Object&gt;&nbsp;params,
                                          java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases)</PRE>
<DL>
<DD>Recursively generate the QL fragment for a given search filter option.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPath(java.lang.Class, java.util.Map, java.lang.String)"><!-- --></A><H3>
getPath</H3>
<PRE>
protected java.lang.String <B>getPath</B>(java.lang.Class&lt;?&gt;&nbsp;rootClass,
                                   java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
                                   java.lang.String&nbsp;property)</PRE>
<DL>
<DD>Given a full path to a property (ex. department.manager.salary), return
 the reference to that property that uses the appropriate alias (ex.
 a4_manager.salary).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAlias(java.lang.Class, java.util.Map, java.lang.String, boolean)"><!-- --></A><H3>
getAlias</H3>
<PRE>
protected <A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A> <B>getAlias</B>(java.lang.Class&lt;?&gt;&nbsp;rootClass,
                                                 java.util.Map&lt;java.lang.String,<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao">BaseSearchProcessor.AliasNode</A>&gt;&nbsp;aliases,
                                                 java.lang.String&nbsp;path,
                                                 boolean&nbsp;setFetch)</PRE>
<DL>
<DD>Given a full path to an entity (ex. department.manager), return the alias
 to reference that entity (ex. a4_manager). If there is no alias for the
 given path, one will be created.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="securityCheck(java.lang.Class, com.trg.dao.search.ISearch)"><!-- --></A><H3>
securityCheck</H3>
<PRE>
protected void <B>securityCheck</B>(java.lang.Class&lt;?&gt;&nbsp;entityClass,
                             <A HREF="../../../com/trg/dao/search/ISearch.html" title="interface in com.trg.dao.search">ISearch</A>&nbsp;search)</PRE>
<DL>
<DD>Checks to make sure the search will not violate security.<br/><br/>
 
 Current checks:
 <ul>
 <li>INJECTION - We check each property sepcified in the search to make
 sure it only contains valid Java identifier characters</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="securityCheckFilter(com.trg.dao.search.Filter)"><!-- --></A><H3>
securityCheckFilter</H3>
<PRE>
protected void <B>securityCheckFilter</B>(<A HREF="../../../com/trg/dao/search/Filter.html" title="class in com.trg.dao.search">Filter</A>&nbsp;filter)</PRE>
<DL>
<DD>Used by <code>securityCheck()</code> to recursively check filters.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="securityCheckProperty(java.lang.String)"><!-- --></A><H3>
securityCheckProperty</H3>
<PRE>
protected void <B>securityCheckProperty</B>(java.lang.String&nbsp;property)</PRE>
<DL>
<DD>Used by <code>securityCheck()</code> to check a property string for
 injection attack.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BaseSearchProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/trg/dao/BaseDAODispatcher.html" title="class in com.trg.dao"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/trg/dao/BaseSearchProcessor.AliasNode.html" title="class in com.trg.dao"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/trg/dao/BaseSearchProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BaseSearchProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
